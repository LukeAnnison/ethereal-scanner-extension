(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4469)}])},4469:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var a=n(5893),r=n(9008),i=n.n(r),o=n(6588),s=n(4051),c=n.n(s),u=n(7294),l=n(9669),d=n.n(l),h=function(e){var t=e.indexOf("video/");return e.slice(t+6,t+25)},f=n(6486),_=function(e,t,n,a,r){var i=[{searchTerm:e,name:t,list:Object.assign({},n.data.data.itemList),type:"song"}];return(0,f.forEach)(r,(function(e,t){i.push({searchTerm:a[t],name:a[t],list:r[t].itemList,type:"hashtag"})})),i};function m(e,t,n,a,r,i,o){try{var s=e[i](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(a,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){m(i,a,r,o,s,"next",e)}function s(e){m(i,a,r,o,s,"throw",e)}o(void 0)}))}}var v=function(){var e=(0,u.useState)(""),t=e[0],n=e[1],a=(0,u.useState)(null),r=a[0],i=a[1],o=(0,u.useState)(null),s=o[0],l=o[1],f=(0,u.useState)(!1),m=f[0],v=f[1],x=(0,u.useState)([]),g=(x[0],x[1]),w=function(){var e=p(c().mark((function e(){var n,a,r,o,s,u,h,f,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),console.info("fetchData"),e.next=4,d().get("/api/video?id=".concat(t));case 4:if(n=e.sent,i(n.data.data),!n.data.data){e.next=21;break}return e.prev=7,a=n.data.data.shareMeta.desc,n.data.data.itemInfo.itemStruct.author.secUid,r=n.data.data.itemInfo.itemStruct.music.id,o=n.data.data.itemInfo.itemStruct.music.title,e.next=14,d().get("/api/song?id=".concat(r));case 14:s=e.sent,a.match(/#\w+/g)?(u=a.match(/#\w+/g).map((function(e){return e.substring(1)}))||[],g(u),h=[],Promise.all(u.map(function(){var e=p(c().mark((function e(t,n){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get("/api/hashtag?name=".concat(t));case 2:a=e.sent,h.push(a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(){v(!1);var e=_(r,o,s,u,h);l(e)}))):(f=a.match(/ \w+/g).map((function(e){return e.substring(1)}))||[],m=[],Promise.all(f.map(function(){var e=p(c().mark((function e(t,n){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get("/api/hashtag?name=".concat(t));case 2:a=e.sent,m.push(a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(){v(!1);var e=_(r,o,s,f,m);l(e)}))),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),v(!1);case 21:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(){return e.apply(this,arguments)}}();return{video:r,search:t,loading:m,results:s,fetchData:w,handleChange:function(e){n(h(e.target.value))}}},x=n(1633),g=n.n(x),w=n(7739),k=n.n(w),j=n(5294),N=n.n(j),y=n(1163),S=function(e){var t=e.video,n=e.setHovered,r=e.hovered,i=e.setExit,o=(0,y.useRouter)();return(0,a.jsx)("div",{onMouseEnter:n,onMouseLeave:i,className:N().container,onClick:function(){o.push("https://www.tiktok.com/@".concat(t.author,"/video/").concat(t.video.id,"?is_copy_url=1&is_from_webapp=v1"))},children:r?(0,a.jsx)("video",{controls:!0,autoPlay:!0,className:N().video,src:t.video.playAddr}):(0,a.jsx)("img",{className:N().video,src:t.video.dynamicCover})})},C=n(982),H=n.n(C),b=function(e){var t=e.result,n=e.onClick,r=e.selected;return(0,a.jsx)("div",{onClick:n,className:r===t.name?H().selected:H().filter,children:(0,a.jsxs)("h1",{className:r===t.name?H().h1Selected:H().h1,children:["song"===t.type?"\u266b":"#",t.name," "]})})},T=n(5161),E=n.n(T),P=function(e){var t=e.results,n=(e.video,(0,u.useState)("")),r=n[0],i=n[1],o=(0,u.useState)(""),s=(o[0],o[1]),c=(0,u.useState)(""),l=(c[0],c[1],(0,u.useState)("")),d=l[0],h=l[1],f=(0,u.useState)({}),_=f[0],m=f[1];return(0,u.useEffect)((function(){if(t){var e=t.find((function(e){return e.name===r}));e&&m(e.list)}}),[r]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{display:"flex",flexDirection:"row",maxWidth:"95%",flexWrap:"wrap"},children:E()(t,(function(e,t){return(0,a.jsx)(b,{onClick:function(t){return n=e.name,a=e.searchTerm,i(n),void s(a);var n,a},selected:r,result:e},t)}))}),(0,a.jsx)("div",{className:k().grid,children:E()(_,(function(e,t){return(0,a.jsx)(S,{hovered:e.id===d,setHovered:function(t){h(e.id)},setExit:function(e){h("")},video:e},t)}))})]})},D=function(){var e=v(),t=e.video,n=e.results,r=e.handleChange,s=e.fetchData,c=e.loading;return(0,a.jsxs)("div",{className:g().container,children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Create Next App"}),(0,a.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("main",{className:g().main,children:[(0,a.jsx)("h1",{className:g().title,children:"Welcome to Ethereal Scanner"}),(0,a.jsx)("p",{className:g().text,children:"Enter a Tik Tok URL and get results for the related songs and hastags used in the video"}),(0,a.jsx)("p",{className:g().text,children:"Click a tag when it appears to show results. Hover over a video to play"}),(0,a.jsx)("input",{onChange:function(e){return r(e)},className:g().input,type:"text"}),(0,a.jsx)("button",{className:g().colorChange,onClick:s,children:"Scan TikTok"}),c?(0,a.jsx)(o._P,{color:"#00BFFF",height:80,width:80}):(0,a.jsx)(P,{results:n,video:t})]}),(0,a.jsx)("footer",{className:g().footer,children:(0,a.jsxs)("a",{className:g().text,href:"https://www.etherealkind.com/",target:"_blank",rel:"noopener noreferrer",children:["Powered by Ethereal",(0,a.jsx)("span",{className:g().logo})]})})]})}},7739:function(e){e.exports={grid:"displayResults_grid__tXz97"}},982:function(e){e.exports={filter:"filter_filter__xom5a",selected:"filter_selected__GwTBL",h1Selected:"filter_h1Selected__BV9f2",h1:"filter_h1__G_Mby"}},5294:function(e){e.exports={container:"tikTokVid_container__ar1WU",video:"tikTokVid_video__bG_Ap",title:"tikTokVid_title__UnWib"}},1633:function(e){e.exports={container:"Home_container__97eC3",main:"Home_main__OVLM4",footer:"Home_footer__zed0_",input:"Home_input__ZZ4GD",text:"Home_text__8moDw",title:"Home_title__q0Qg4",description:"Home_description__JhekB",colorChange:"Home_colorChange__6chyd","color-change":"Home_color-change__2DYwU",code:"Home_code__2i1pD",grid:"Home_grid__npx0i",card:"Home_card__K7aTN",logo:"Home_logo__FLQOc"}}},function(e){e.O(0,[662,724,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);